language: node_js
sudo: false

git:
  depth: 10

os:
  - linux
  - osx
  - windows

node_js:
  - "6"
  - "8"
  - "10"

cache:
  directories:
    - $HOME/.npm

install:
  - npm install
  - npm install -g codecov

script:
  - npm test
  - if [[ "$TRAVIS_OS_NAME" != 'windows' ]]; then npm run cover; fi

after_script:
  - if [[ "$TRAVIS_OS_NAME" != 'windows' ]]; then codecov; fi
